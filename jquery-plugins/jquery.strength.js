/*
 strength.js
 Original author: @aaronlumsden
 Further changes, comments: @aaronlumsden
 Licensed under the MIT license
*/
(function(c,t,l,u){function h(e,a){this.element=e;this.$elem=c(this.element);this.options=c.extend({},c.fn.strength.defaults,a);this._defaults=c.fn.strength.defaults;this._name="strength";this.init()}h.prototype={init:function(){function e(b,d){var f=8<=b.length?1:0,e=b.match(h)?1:0,m=b.match(n)?1:0,g=b.match(p)?1:0,k=b.match(q)?1:0;f=f+e+m+g+k;d=c('div[data-meter="'+d+'"]').removeClass();d.parent().removeClass().addClass(a.strengthMeterClass);0==f?d.html(""):1==f?(d.parent().addClass("veryweak"),
d.addClass("veryweak").html("<p>"+a.veryweakText+"</p>")):2==f?(d.parent().addClass("weak"),d.addClass("weak").html("<p>"+a.weakText+"</p>")):3==f||4==f?(d.parent().addClass("medium"),d.addClass("medium").html("<p>"+a.mediumText+"</p>")):(d.parent().addClass("strong"),d.addClass("strong").html("<p>"+a.strongText+"</p>"));a.strengthCheck(b,f)}var a=this.options,h=/[A-Z]/,n=/[a-z]/,p=/[0-9]/,q=/[~!@#$%\^&\*()_+\{\}:"\|<>?`\-=\[\];\'\\,\./]/,g=!1,k=a.strengthTipText+" "+a.strengthButtonText,r=a.strengthTipText+
" "+a.strengthButtonTextToggle,b=this.$elem.attr("id");this.$elem.parent().addClass(a.strengthClass);this.$elem.addClass(a.strengthInputClass).attr("data-password",b).after('<input style="display:none" class="'+this.$elem.attr("class")+'" data-password="'+b+'" type="text" name="" value=""><a data-password-button="'+b+'" href="javascript:" class="'+a.strengthButtonClass+'" tabindex="-1">'+k+'</a><div class="'+a.strengthMeterClass+'"><div data-meter="'+b+'"><p></p></div></div>');this.$elem.bind("keyup keydown",
function(a){thisval=c("#"+b).val();a=c('input[type="text"][data-password="'+b+'"]').val(thisval);try{a.resetValid()}catch(d){}e(thisval,b)});c('input[type="text"][data-password="'+b+'"]').bind("keyup keydown",function(a){thisval=c('input[type="text"][data-password="'+b+'"]').val();c('input[type="password"][data-password="'+b+'"]').val(thisval);e(thisval,b)});c(l.body).on("click","."+a.strengthButtonClass,function(a){a.preventDefault();thisclass="hide_"+c(this).attr("class");g?(c('input[type="text"][data-password="'+
b+'"]').hide(),c('input[type="password"][data-password="'+b+'"]').show().focus(),c('a[data-password-button="'+b+'"]').removeClass(thisclass).html(k),g=!1):(c('input[type="text"][data-password="'+b+'"]').show().focus(),c('input[type="password"][data-password="'+b+'"]').hide(),c('a[data-password-button="'+b+'"]').addClass(thisclass).html(r),g=!0)})}};c.fn.strength=function(e){return this.each(function(){c.data(this,"plugin_strength")||c.data(this,"plugin_strength",new h(this,e))})};c.fn.strength.defaults=
{strengthClass:"strength",strengthInputClass:"strength_input",strengthMeterClass:"strength_meter",strengthButtonClass:"button_strength",strengthTipText:"\u5efa\u8bae\uff1a\u957f\u5ea6\u4e0d\u5c0f\u4e8e8\u4f4d\uff0c\u4e14\u5305\u542b\uff0c\u5927\u5199\u82f1\u6587\u5b57\u6bcd\u3001\u5c0f\u5199\u82f1\u6587\u5b57\u6bcd\u3001\u6570\u5b57\u548c\u7b26\u53f7\u3002",strengthButtonText:"\u70b9\u51fb\u663e\u793a\u5bc6\u7801\u3002",strengthButtonTextToggle:"\u70b9\u51fb\u9690\u85cf\u5bc6\u7801\u3002",veryweakText:"\u5bc6\u7801\u592a\u5f31\u5566\uff01",
weakText:"\u5bc6\u7801\u6bd4\u8f83\u5f31\u54e6\uff01",mediumText:"\u5bc6\u7801\u8f83\u5b89\u5168\uff01",strongText:"\u5bc6\u7801\u5f88\u5f3a\u5f88\u5b89\u5168\uff01",strengthCheck:function(c,a){}}})(jQuery,window,document);
